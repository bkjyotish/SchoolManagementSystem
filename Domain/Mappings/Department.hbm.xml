<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
   assembly="Domain"
   namespace="Domain.Entities">
    <class name ="Department" abstract="true">
        <id name="Id">
            <generator class ="uuid.hex"/>
        </id>
        <property name ="Sn"/>
        <property name ="Name"/>
        <property name ="SimpleDescript"/>
        <property name ="DetailDescript"/>
    </class>
    
    <union-subclass name="School" table="School" extends="Department" >
        <set name="facultyList" inverse="true" cascade="all">
            <key column="sid"></key>
            <one-to-many class="Domain.Entities.Faculty" />
        </set>
    </union-subclass>
    
    <union-subclass name="Faculty" table="Faculty" extends="Department" >
        <set name="professionList" inverse="true">
            <key column="fid"></key>
            <one-to-many class="Domain.Entities.Profession" />
        </set>
        <many-to-one name="School" class="Domain.Entities.School" column="Id" insert="false" update="false"/>
    </union-subclass>
    
    <union-subclass name="Profession" table="Profession" extends="Department" >
        <set name="classGradeList" inverse="true">
            <key column="pid"></key>
            <one-to-many class="Domain.Entities.ClassGrade" />
        </set>
    </union-subclass>
    
    <union-subclass name="ClassGrade" table="ClassGrade" extends="Department" >
    </union-subclass>
    
</hibernate-mapping>